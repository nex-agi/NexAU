type: tool
name: read_file
description: >-
  Reads and returns the content of a specified file. If the file is large, the
  content will be truncated. The tool's response will clearly indicate if
  truncation has occurred and will provide details on how to read more of the
  file using the 'offset' and 'limit' parameters. Handles text, images (PNG,
  JPG, GIF, WEBP, SVG, BMP), audio files (MP3, WAV, AIFF, AAC, OGG, FLAC),
  video files (MP4, AVI, MOV, MKV, WEBM, FLV, WMV, M4V), and PDF files.
  Video files are processed by extracting key frames via ffmpeg. For text
  files, it can read specific line ranges.
input_schema:
  type: object
  properties:
    file_path:
      type: string
      description: The path to the file to read.
    offset:
      type: number
      description: >-
        Optional: For text files, the 0-based line number to start reading from.
        Requires 'limit' to be set. Use for paginating through large files.
    limit:
      type: number
      description: >-
        Optional: For text files, maximum number of lines to read. Use with
        'offset' to paginate through large files. If omitted, reads the entire
        file (if feasible, up to a default limit).
    image_detail:
      type: string
      enum: [low, high, auto]
      description: >-
        Optional: For image files, the detail level hint passed to the LLM.
        "low" uses fewer tokens, "high" preserves detail, "auto" lets the LLM
        decide. Default: "auto".
    image_max_size:
      type: number
      description: >-
        Optional: For image files, maximum width in pixels. Images wider than
        this are downscaled (preserving aspect ratio) via ffmpeg before
        encoding. Reduces token usage for large images. Requires ffmpeg.
    video_frame_interval:
      type: number
      description: >-
        Optional: For video files, seconds between extracted key frames.
        Default: 5.
    video_max_frames:
      type: number
      description: >-
        Optional: For video files, maximum number of frames to return.
        Default: 10.
    video_frame_width:
      type: number
      description: >-
        Optional: For video files, width in pixels for extracted frames
        (preserving aspect ratio). Smaller values reduce token usage.
        Default: original resolution.
  required:
    - file_path
  additionalProperties: false
  $schema: http://json-schema.org/draft-07/schema#
