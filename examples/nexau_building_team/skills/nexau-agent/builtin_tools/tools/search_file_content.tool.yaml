type: tool
name: search_file_content
description: >-
  Searches for a regular expression pattern within the content of files in a
  specified directory (or current working directory). Can filter files by a glob
  pattern. Returns the lines containing matches, along with their file paths and
  line numbers.

  Uses multiple search strategies: git grep (if in git repo) -> system grep ->
  JavaScript fallback. Results are limited to 20,000 matches for performance.
input_schema:
  type: object
  properties:
    pattern:
      type: string
      description: >-
        The regular expression (regex) pattern to search for within file
        contents (e.g., 'function\\s+myFunction', 'import\\s+\\{.*\\}\\s+from\\s+.*').
    dir_path:
      type: string
      description: >-
        Optional: The absolute path to the directory to search within. If
        omitted, searches the current working directory.
    include:
      type: string
      description: >-
        Optional: A glob pattern to filter which files are searched (e.g.,
        '*.js', '*.{ts,tsx}', 'src/**'). If omitted, searches all files
        (respecting potential global ignores).
  required:
    - pattern
  additionalProperties: false
  $schema: http://json-schema.org/draft-07/schema#
