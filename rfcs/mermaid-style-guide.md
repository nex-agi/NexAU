# Mermaid å›¾è¡¨æ ·å¼è§„èŒƒ

æœ¬æ–‡æ¡£å®šä¹‰äº† NexAU Cloud é¡¹ç›®ä¸­ Mermaid å›¾è¡¨çš„ç»Ÿä¸€é¢œè‰²è§„èŒƒï¼Œç¡®ä¿æ‰€æœ‰æ–‡æ¡£ä¸­çš„å›¾è¡¨é£æ ¼ä¸€è‡´ã€‚

## é¢œè‰²è§„èŒƒ

### èŠ‚ç‚¹å…ƒç´ ï¼ˆæ·±è‰²èƒŒæ™¯ + ç™½å­—ï¼‰

| è¯­ä¹‰            | Fill      | Stroke    | ä»£ç                                              | ä½¿ç”¨åœºæ™¯                         |
| --------------- | --------- | --------- | ------------------------------------------------ | -------------------------------- |
| å·²å®Œæˆ/å¯ä¿¡     | `#10B981` | `#059669` | `style X fill:#10B981,stroke:#059669,color:#fff` | å·²å®ŒæˆæœåŠ¡ã€å¹³å°ä»£ç ã€çœŸå®æœåŠ¡   |
| è¿›è¡Œä¸­/éƒ¨åˆ†å®ç° | `#F59E0B` | `#D97706` | `style X fill:#F59E0B,stroke:#D97706,color:#fff` | éƒ¨åˆ†å®ç°æœåŠ¡ã€å¾…å®ç°åŠŸèƒ½         |
| æµ‹è¯•ä»£ç         | `#3B82F6` | `#2563EB` | `style X fill:#3B82F6,stroke:#2563EB,color:#fff` | pytestã€æµ‹è¯•ç±»ã€æµ‹è¯•æ–¹æ³•         |
| é”™è¯¯/ä¸å¯ä¿¡     | `#EF4444` | `#DC2626` | `style X fill:#EF4444,stroke:#DC2626,color:#fff` | LLMç”Ÿæˆä»£ç ã€é”™è¯¯çŠ¶æ€ã€å¤±è´¥      |
| Docker/å®¹å™¨     | `#8B5CF6` | `#7C3AED` | `style X fill:#8B5CF6,stroke:#7C3AED,color:#fff` | Dockerå®¹å™¨ã€K8s Pod              |
| ç½‘å…³/åè®®       | `#06B6D4` | `#0891B2` | `style X fill:#06B6D4,stroke:#0891B2,color:#fff` | Gatewayã€Proxyã€Protocolã€Config |
| ç›‘æ§/å¯è§‚æµ‹æ€§   | `#6366F1` | `#4F46E5` | `style X fill:#6366F1,stroke:#4F46E5,color:#fff` | Langfuseã€Traceã€Metrics         |
| å­˜å‚¨/æ•°æ®åº“     | `#14B8A6` | `#0D9488` | `style X fill:#14B8A6,stroke:#0D9488,color:#fff` | S3ã€PostgreSQLã€Redis            |
| ä¸­æ€§/é»˜è®¤       | `#6B7280` | `#4B5563` | `style X fill:#6B7280,stroke:#4B5563,color:#fff` | æ™®é€šèŠ‚ç‚¹ã€å¯é€‰åŠŸèƒ½               |

### Subgraph å®¹å™¨ï¼ˆæµ…è‰²èƒŒæ™¯ + æ·±è‰²æ–‡å­—ï¼‰

| è¯­ä¹‰       | Fill      | Stroke    | ä»£ç                                                                  |
| ---------- | --------- | --------- | -------------------------------------------------------------------- |
| å¯ä¿¡å±‚     | `#D1FAE5` | `#10B981` | `style X fill:#D1FAE5,stroke:#10B981,stroke-width:2px,color:#065F46` |
| å¹³å°å±‚     | `#DBEAFE` | `#3B82F6` | `style X fill:#DBEAFE,stroke:#3B82F6,stroke-width:2px,color:#1E40AF` |
| éƒ¨åˆ†å¯ä¿¡å±‚ | `#FEF3C7` | `#F59E0B` | `style X fill:#FEF3C7,stroke:#F59E0B,stroke-width:2px,color:#92400E` |
| ä¸å¯ä¿¡å±‚   | `#FEE2E2` | `#EF4444` | `style X fill:#FEE2E2,stroke:#EF4444,stroke-width:2px,color:#991B1B` |
| åŸºç¡€è®¾æ–½å±‚ | `#EDE9FE` | `#8B5CF6` | `style X fill:#EDE9FE,stroke:#8B5CF6,stroke-width:2px,color:#5B21B6` |
| ç½‘å…³å±‚     | `#E0F2FE` | `#06B6D4` | `style X fill:#E0F2FE,stroke:#06B6D4,stroke-width:2px,color:#0C4A6E` |

### é¢œè‰²å¿«é€Ÿå‚è€ƒ

```
ğŸŸ¢ å·²å®Œæˆ/å¯ä¿¡:        #10B981 / #059669
ğŸŸ  è¿›è¡Œä¸­/éƒ¨åˆ†å®ç°:    #F59E0B / #D97706
ğŸ”µ æµ‹è¯•ä»£ç :          #3B82F6 / #2563EB
ğŸ”´ é”™è¯¯/ä¸å¯ä¿¡:        #EF4444 / #DC2626
ğŸŸ£ Docker/å®¹å™¨:       #8B5CF6 / #7C3AED
ğŸ”· ç½‘å…³/åè®®:         #06B6D4 / #0891B2
ğŸ”¹ ç›‘æ§/å¯è§‚æµ‹æ€§:     #6366F1 / #4F46E5
ğŸ©µ å­˜å‚¨/æ•°æ®åº“:       #14B8A6 / #0D9488
âšª ä¸­æ€§/é»˜è®¤:         #6B7280 / #4B5563
```

## å¸¸ç”¨å›¾è¡¨ç±»å‹

### 1. æµç¨‹å›¾ (flowchart)

```mermaid
flowchart LR
    A[å¼€å§‹] --> B{åˆ¤æ–­}
    B -->|æ˜¯| C[å¤„ç†1]
    B -->|å¦| D[å¤„ç†2]
```

### 2. æ—¶åºå›¾ (sequenceDiagram)

```mermaid
sequenceDiagram
    A->>B: è¯·æ±‚
    B-->>A: å“åº”
```

### 3. çŠ¶æ€å›¾ (stateDiagram)

```mermaid
stateDiagram-v2
    [*] --> çŠ¶æ€1
    çŠ¶æ€1 --> çŠ¶æ€2
    çŠ¶æ€2 --> [*]
```

### 4. é¥¼å›¾ (pie)

```mermaid
pie title å®Œæˆåº¦
    "å·²å®Œæˆ" : 60
    "è¿›è¡Œä¸­" : 20
    "å¾…å¼€å§‹" : 20
```

### 5. ç”˜ç‰¹å›¾ (gantt)

```mermaid
gantt
    title æ—¶é—´çº¿
    section Phase 1
        ä»»åŠ¡1 :a1, 2025-01-01, 7d
        ä»»åŠ¡2 :a2, after a1, 5d
```

## ä½¿ç”¨ç¤ºä¾‹

### æµ‹è¯•æ¶æ„å›¾ç¤ºä¾‹

```mermaid
flowchart TB
    subgraph Docker["ğŸŸ£ Docker Services"]
        DB[("PostgreSQL<br/>:5432")]
    end

    subgraph RealServices["ğŸŸ¢ Real Services"]
        SM["Session Manager"]
    end

    subgraph Tests["ğŸ”µ Test Code"]
        TEST["pytest"]
    end

    TEST --> SM
    SM --> DB

    %% Subgraph å®¹å™¨æ ·å¼
    style Docker fill:#EDE9FE,stroke:#8B5CF6,stroke-width:2px,color:#5B21B6
    style RealServices fill:#D1FAE5,stroke:#10B981,stroke-width:2px,color:#065F46
    style Tests fill:#DBEAFE,stroke:#3B82F6,stroke-width:2px,color:#1E40AF

    %% èŠ‚ç‚¹æ ·å¼
    style DB fill:#8B5CF6,stroke:#7C3AED,color:#fff
    style SM fill:#10B981,stroke:#059669,color:#fff
    style TEST fill:#3B82F6,stroke:#2563EB,color:#fff
```

## æœ€ä½³å®è·µ

1. **ä¿æŒä¸€è‡´æ€§**: åŒä¸€è¯­ä¹‰å§‹ç»ˆä½¿ç”¨ç›¸åŒé¢œè‰²
2. **åˆ†å±‚æ¸…æ™°**: Subgraph ä½¿ç”¨æµ…è‰²èƒŒæ™¯ï¼ŒèŠ‚ç‚¹ä½¿ç”¨æ·±è‰²èƒŒæ™¯
3. **æ³¨é‡Šæ ·å¼**: åœ¨å›¾è¡¨æœ«å°¾ç»Ÿä¸€æ·»åŠ  `%% Subgraph å®¹å™¨æ ·å¼` å’Œ `%% èŠ‚ç‚¹æ ·å¼` æ³¨é‡Š
4. **è¯­ä¹‰ä¼˜å…ˆ**: æ ¹æ®èŠ‚ç‚¹çš„è¯­ä¹‰å«ä¹‰é€‰æ‹©é¢œè‰²ï¼Œè€Œééšæ„é€‰å–
